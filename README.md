# nERP Landing

–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ nERP –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ PHP 8.4 + Vanilla JS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ–º. –ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∏ —É–¥–æ–±–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

## –°—Ç–µ–∫ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
.
‚îú‚îÄ‚îÄ bootstrap.php           # –ø—Ä–æ—Å—Ç–æ–π –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑—á–∏–∫ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ public/                 # –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–¥–æ–∫—É–º–µ–Ω—Ç-—Ä—É—Ç–∞ nginx/php -S)
‚îÇ   ‚îú‚îÄ‚îÄ index.php           # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, SSR —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º/—Ç–µ–º–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ api/translations.php# JSON API –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ css/main.css    # —Å—Ç–∏–ª–µ–≤–æ–π —Å–ª–æ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º
‚îÇ       ‚îî‚îÄ‚îÄ js/             # app.js, i18n.js, theme.js
‚îú‚îÄ‚îÄ resources/lang/         # —Å–ª–æ–≤–∞—Ä–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–π (ru, en)
‚îú‚îÄ‚îÄ src/                    # PHP-–∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Config/AppConfig.php
‚îÇ   ‚îú‚îÄ‚îÄ Services/TranslationService.php
‚îÇ   ‚îî‚îÄ‚îÄ Support/helpers.php
‚îî‚îÄ‚îÄ README.md
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåê **i18n**: —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- üé® **–¢–µ–º—ã**: —Å–≤–µ—Ç–ª–∞—è –∏ —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞ –≤ cookie (—É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ).
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π JS (Vanilla), –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã `defer`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CSS‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ —Ç—è–∂—ë–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- üîç **SEO**: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π `<title>`, `<meta name="description">`, `<meta property="og:*">`, –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π `lang` –Ω–∞ `<html>`.

## –ó–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–¢—Ä–µ–±—É–µ—Ç—Å—è PHP >= 8.1 (–ø—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ 8.4). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∏—Ö –Ω–µ—Ç) –∏ —Å—Ç–∞—Ä—Ç—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

```bash
php -S 0.0.0.0:8000 -t public
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:8000`.

### Nginx + PHP-FPM

–ü—Ä–∏–º–µ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx (–∑–∞–º–µ–Ω–∏—Ç–µ `your_domain` –∏ –ø—É—Ç–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ):

```
server {
    listen 80;
    server_name your_domain;
    root /var/www/nerp/public;
    index index.php;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_pass unix:/run/php/php8.4-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
    }

    location ~* \.(css|js|png|jpg|jpeg|gif|svg|webp|ico)$ {
        try_files $uri $uri/ =404;
        expires 7d;
        add_header Cache-Control "public";
    }
}
```

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

- –î–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏ –≤ `resources/lang/<locale>.php` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `ru.php`/`en.php`.
- –û–±–Ω–æ–≤–∏—Ç–µ `App\Config\AppConfig::get()` ‚Äî –¥–æ–±–∞–≤—å—Ç–µ —è–∑—ã–∫ –≤ `available_locales`.
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≤–µ—Ä—Å—Ç–∫–µ –ø–æ–º–µ—á–µ–Ω—ã `data-i18n-key` (JS –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞).

## –¢–µ–º—ã

–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `public/assets/css/main.css`. –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Ç–µ–º—ã —Ä–∞—Å—à–∏—Ä—å—Ç–µ –∫–∞—Ä—Ç—É –≤ `AppConfig::get()['themes']`, –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CSS –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `ThemeManager` (JS).

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`php -S ...`) –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
  - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏;
  - –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∏ —Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã;
  - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç –ø–∞–ª–∏—Ç—Ä—É –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- JavaScript –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–±–æ—Ä—â–∏–∫–æ–≤; —Ñ–∞–π–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã c `defer`.
- PHP-–∫–æ–¥ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ (`declare(strict_types=1);`).
- –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö API‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤ `public/api` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –∏–∑ `bootstrap.php`.

–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ
